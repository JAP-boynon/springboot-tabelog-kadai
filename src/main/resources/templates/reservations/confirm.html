<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>予約内容確認</title>
</head>
<body>

<h2>予約内容の確認</h2>

<p>店舗名：<span th:text="${store.name}"></span></p>
<p>予約日：<span th:text="${reservationInputForm.reservationDate}"></span></p>
<p>予約時間：<span th:text="${reservationInputForm.reservationTime}"></span></p>
<p>人数：<span th:text="${reservationInputForm.numberOfPeople} + '名'"></span></p>

<!-- 値保持用（submitしない） -->
<form>
    <input type="hidden" th:value="${reservationInputForm.reservationDate}">
    <input type="hidden" th:value="${reservationInputForm.reservationTime}">
    <input type="hidden" th:value="${reservationInputForm.numberOfPeople}">
</form>

<!-- Stripeに飛ばすボタン -->
<button
    id="paymentButton"
    class="btn btn-danger w-100">
    決済する
</button>

<form th:action="@{/stores/{id}(id=${store.id})}" method="get">
    <button type="submit">戻る</button>
</form>

<!-- Stripe公式JS -->
<script src="https://js.stripe.com/v3/"></script>

<!-- sessionId を JS に渡す -->
<script th:inline="javascript">
    const sessionId = /*[[${sessionId}]]*/ "";
</script>

<!-- 自作Stripe処理 -->
<script th:src="@{/js/stripe.js}"></script>

</body>
</html>