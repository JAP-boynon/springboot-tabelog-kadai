<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <div th:replace="~{fragment :: meta}"></div>
    <div th:replace="~{fragment :: styles}"></div>
    <title>レビュー編集</title>
</head>

<body>

<div th:replace="~{fragment :: header}"></div>

<main class="container pt-4 pb-5">

    <!-- パンくず -->
    <nav class="mb-4" style="--bs-breadcrumb-divider: '>';">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a th:href="@{/}">ホーム</a>
            </li>
            <li class="breadcrumb-item">
                <a th:href="@{/stores/{id}(id=${review.store.id})}">
                    <span th:text="${review.store.name}"></span>
                </a>
            </li>
            <li class="breadcrumb-item active">
                レビュー編集
            </li>
        </ol>
    </nav>

    <h1 class="mb-4 text-center">レビューを編集</h1>

    <!-- レビュー編集フォーム -->
    <form th:action="@{/reviews/update}" method="post">

        <input type="hidden" name="id" th:value="${review.id}">
        <input type="hidden" name="storeId" th:value="${review.store.id}">

        <!-- 評価 -->
        <div class="mb-3">
            <label class="form-label">評価</label>
            <select name="rating" class="form-select w-auto">
                <option th:each="i : ${#numbers.sequence(1,5)}"
                        th:value="${i}"
                        th:selected="${i == review.rating}">
                    [[${i}]]
                </option>
            </select>
        </div>

        <!-- コメント -->
        <div class="mb-3">
            <label class="form-label">コメント</label>
            <textarea name="comment"
                      class="form-control"
                      rows="4"
                      th:text="${review.comment}">
            </textarea>
        </div>

        <button type="submit" class="btn btn-primary">
            更新する
        </button>

    </form>

</main>

<div th:replace="~{fragment :: footer}"></div>
<div th:replace="~{fragment :: scripts}"></div>

</body>
</html>